{"ast":null,"code":"var _jsxFileName = \"/Users/dhruv/AttendEase-Caffeine-Coders--1/FRONTEND/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onLogin\n}) => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [isConnecting, setIsConnecting] = useState(false);\n  const handleLogin = async () => {\n    if (!window.ethereum) {\n      setMessage(\"Please install MetaMask to login.\");\n      return;\n    }\n    if (isConnecting) {\n      setMessage(\"Connection request already in progress. Please check MetaMask.\");\n      return;\n    }\n    setIsConnecting(true);\n    setMessage(\"Connecting to MetaMask...\");\n    try {\n      // Check if already connected\n      const accounts = await window.ethereum.request({\n        method: \"eth_accounts\"\n      });\n      if (accounts.length > 0) {\n        onLogin(accounts[0]);\n        setMessage(\"Successfully logged in!\");\n      } else {\n        // Request account access\n        const newAccounts = await window.ethereum.request({\n          method: \"eth_requestAccounts\"\n        });\n        if (newAccounts.length > 0) {\n          onLogin(newAccounts[0]);\n          setMessage(\"Successfully logged in!\");\n        } else {\n          setMessage(\"No accounts found. Please connect your wallet.\");\n        }\n      }\n    } catch (error) {\n      if (error.code === -32002) {\n        setMessage(\"A MetaMask request is already pending. Please check your MetaMask extension.\");\n      } else {\n        setMessage(`Login failed: ${error.message}`);\n      }\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"50px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login to College Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please connect your MetaMask wallet to access the app.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      disabled: isConnecting,\n      style: {\n        padding: \"10px 20px\",\n        fontSize: \"16px\"\n      },\n      children: isConnecting ? \"Connecting...\" : \"Connect Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"uZDel9lNibMvXywbbGAA8yFVgig=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Login","onLogin","_s","message","setMessage","isConnecting","setIsConnecting","handleLogin","window","ethereum","accounts","request","method","length","newAccounts","error","code","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","fontSize","_c","$RefreshReg$"],"sources":["/Users/dhruv/AttendEase-Caffeine-Coders--1/FRONTEND/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst Login = ({ onLogin }) => {\n  const [message, setMessage] = useState(\"\");\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  const handleLogin = async () => {\n    if (!window.ethereum) {\n      setMessage(\"Please install MetaMask to login.\");\n      return;\n    }\n\n    if (isConnecting) {\n      setMessage(\"Connection request already in progress. Please check MetaMask.\");\n      return;\n    }\n\n    setIsConnecting(true);\n    setMessage(\"Connecting to MetaMask...\");\n\n    try {\n      // Check if already connected\n      const accounts = await window.ethereum.request({ method: \"eth_accounts\" });\n      if (accounts.length > 0) {\n        onLogin(accounts[0]);\n        setMessage(\"Successfully logged in!\");\n      } else {\n        // Request account access\n        const newAccounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n        if (newAccounts.length > 0) {\n          onLogin(newAccounts[0]);\n          setMessage(\"Successfully logged in!\");\n        } else {\n          setMessage(\"No accounts found. Please connect your wallet.\");\n        }\n      }\n    } catch (error) {\n      if (error.code === -32002) {\n        setMessage(\"A MetaMask request is already pending. Please check your MetaMask extension.\");\n      } else {\n        setMessage(`Login failed: ${error.message}`);\n      }\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"50px\" }}>\n      <h2>Login to College Attendance</h2>\n      <p>Please connect your MetaMask wallet to access the app.</p>\n      <button\n        onClick={handleLogin}\n        disabled={isConnecting}\n        style={{ padding: \"10px 20px\", fontSize: \"16px\" }}\n      >\n        {isConnecting ? \"Connecting...\" : \"Connect Wallet\"}\n      </button>\n      {message && <p>{message}</p>}\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}